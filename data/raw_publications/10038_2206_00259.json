{"text": "IDANI: Inference-time Domain Adaptation via Neuron-level Interventions\n\nAbstract:\nLarge pre-trained models are usually finetuned on downstream task data, and tested on unseen data. When the train and test data come from different domains, the model is likely to struggle, as it is not adapted to the test domain. We propose a new approach for domain adaptation (DA), using neuron-level interventions: We modify the representation of each test example in specific neurons, resulting in a counterfactual example from the source domain, which the model is more familiar with. The modified example is then fed back into the model. While most other DA methods are applied during training time, ours is applied during inference only, making it more efficient and applicable. Our experiments show that our method improves performance on unseen domains. 1 * Supported by the Viterbi Fellowship in the Center for Computer Engineering at the Technion.\n\nMain:\n\n\n\n1 Introduction\nA common assumption in NLP, and in machine learning in general, is that the training set and the test set are sampled from the same underlying distribution. However, this assumption does not always hold in real-world applications since test data may arrive from many (target) domains, often not seen during training. Indeed, when applied to such unseen target domains, the trained model typically encounters significant degradation in performance.\nDA algorithms aim to address this challenge by improving models' generalization to new domains, and algorithms for various DA scenarios have been developed (Daume III and Marcu, 2006; Reichart and Rappoport, 2007; Ben-David et al., 2007; Schnabel and Sch\u00fctze, 2014). This work focuses on unsupervised domain adaptation (UDA), the most explored DA setup in recent years, which assumes access to labeled data from the source domain and unlabeled data from both source and target domains. Algorithms for this setup typically use the target domain knowledge during training, attempting to bridge the gap between domains through representation learning (Blitzer et al., 2007; Ganin et al., 2016; Ziser and Reichart, 2018; Han and Eisenstein, 2019; David et al., 2020). Recently, Ben-David et al. (2021) and Volk et al. (2022) introduced an approach for inference-time DA, assuming no prior knowledge regarding the test domains but still modifying the training process to their gain.\nIn contrast to this line of work, we assume a more realistic scenario, in which the model was already trained on a source domain, and encounters unlabeled data from the target domain during inference time.\nGiven an example from a target domain, we would have liked to change it to a source domain example, so that the model would be more likely to perform well on it. Since this is difficult to achieve, we aim to change its representation in a fine-grained manner, such that we modify only information about the domain of the representation, without hurting other information. To do so, we take inspiration from work analyzing language models, which showed that linguistic properties are localized in certain neurons (dimensions in model representations) (Dalvi et al., 2019; Durrani et al., 2020; Torroba Hennigen et al., 2020; Antverg and Belinkov, 2022; Sajjad et al., 2021). We first rank the neurons by their importance for identifying the domain (source or target) of each example. Then, we modify target-domain representations only in the highest-ranked neurons, to change their domain to the source domain. Since the model was trained on examples from the source domain, we expect it to perform better on the modified representations. We name this method as Inference-time Domain Adaptation via Neuron-level Interventions (IDANI).\nFigure 1 : The language model-which was trained on some source domain, e.g., airline-creates a representation (CLS) for the review. Since the review is from a domain on which it was not trained, the model's classifier mistakenly classifies it as negative (bottom). In IDANI (top), the representation is fed into a neuron-ranking method. The k-highest ranked neurons are modified by an intervention, to change the domain of the review, and the new representation is fed into the classifier, which correctly classifies it as positive.\nWe follow a large body of previous work, testing IDANI on a variety of well known DA benchmarks, for a total of two text classification tasks (sentiment analysis, natural language inference) and one sequence tagging task (aspect identification), across 52 source-target domain pairs. We demonstrate that IDANI can improve results in many of these cases, with some significant gains.\n\n2 Method\nGiven a model M with a classification module f and hidden dimensionality d, which was fine-tuned on data from a source domain D s = {X s }, we receive unlabeled task data D t = {X t } from a target domain for inference. As s = t, M 's performance is likely to deteriorate when processing X t compared to X s . Thus, we would like to make the representation of X t more similar to that of X s (regardless of the labels). To do so, we apply the IDANI intervention method:\n1. We process X s and X t through M , producing representations H s , H t \u2286 R d . We also compute vs and vt , the element-wise mean representations of X s and X t .\n2. We apply existing ranking methods to rank the representation's neurons by their relevance for domain information, i.e., the highest-ranked neuron holds the most information about the representation's domain ( \u00a7 2.1). 2\n2 Following previous work (Antverg and Belinkov, 2022), 3. For each h t \u2208 H t , we would ideally like to have h s , its source domain counterpart. Since h s is impossible to get, we create a counterfactual hs that simulates it by modifying h t only in the k-highest ranked neurons {n 1 , ..., n k }, such that \u2200i \u2208 {1, ..., k},hs n i = h t n i + \u03b1 n i (v s n i \u2212 vt n i )\nTo allow stronger intervention on neurons that are ranked higher, we scale the intervention with \u03b1 \u2208 R d , a log-scaled sorted coefficients vector in the range [0, \u03b2] such that \u03b1 n 1 = \u03b2 and \u03b1 n d = 0, where \u03b2 is a hyperparameter (Antverg and Belinkov, 2022). We denote the new set of representations as Hs .\n4. Representations from Hs are fed into the classifier f -without re-training f -to predict the labels. Since Hs is more similar to H s than H t is to H s , we expect performance to improve. That is, for some scoring metric \u03b3, we expect to have \u03b3(f ( Hs )) > \u03b3(f (H t )).\nThe process is illustrated in Fig. 1.\n\n2.1 Ranking Methods\nWe consider two ranking methods for ranking the representations' neurons (step 2):\nour method assumes that neurons with the same index carry similar information. While this is not necessarily true, we perform extrinsic (Table 1) and intrinsic evaluations (Table 2) that support this assumption.\nLINEAR (Dalvi et al., 2019) This method trains a linear classifier on H s and H t to learn to predict the domain, using standard cross-entropy loss regularized by elastic net regularization (Zou and Hastie, 2005). Then, it uses the classifier's weights to rank the neurons according to their importance for domain information. Intuitively, neurons with a higher magnitude of absolute weights should be more important for predicting the domain.\n\nPROBELESS\nThe second ranking method is a simple one and does not rely on an external probe, and thus is very fast to obtain: it only depends on computing the mean representation of each domain (v s and vt ), and sorting the difference between them. For each neuron i \u2208 {1, ..., d}, we calculate the absolute difference between the means:r i = |v s i \u2212 vt i | (2)\nand obtain a ranking by arg-sorting r, i.e., the first neuron in the ranking corresponds to the highest value in r.  Antverg and Belinkov (2022) showed that for interventions for morphology information, this method outperforms LINEAR and another ranking method (Torroba Hennigen et al., 2020).\n3 Experiments\n\n3.1 Datasets\nWe experiment with two text classification tasks: sentiment analysis (classifying reviews to positive or negative (Blitzer et al., 2007)) and natural language inference (NLI; classifying whether two sentences entail or contradict each other (Bowman et al., 2015)), and a sequence tagging task: aspect prediction (identifying aspect terms within reviews (Hu and Liu, 2004; Toprak et al., 2010; Pontiki et al., 2014)). For each task, the model is trained on a single source domain and tested on different target domains. We explore a low-resource scenario, thus we use 2000-3000 examples from the source domain to form the training set. 3 For test, we use equivalent size data from the corresponding target domain. Further data details are in Appendix A.\n\n3.2 Experiments\nFor each task and pair of source and target domains, we fine-tune a pre-trained BERT-base-cased model (Devlin et al., 2019) on the training set of the source domain and evaluate its in-domain performance on the dev set of the source domain. 4 e intervene on representations from the last layer of the model: word representations for the aspect prediction task, and CLS token representation for the other tasks. We then test the model's out-ofdistribution (OOD) performance on the test set of the target domain, for different k (number of modified neurons) and \u03b2 (magnitude of the intervention) values: We perform grid search where k is in the range [0, d] (d = 768) and \u03b2 is in the range [1, 10]. We experiment with both ranking methods described in \u00a7 2.1. We consider the model's performance at k = 0 as its initial (unchanged) OOD performance (INIT), and report the difference between initial performance and performance using IDANI, with either PROBELESS (\u2206 P ) or LINEAR (\u2206 L ) rankings. A limitation of IDANI (which we further discuss later) is the inability to choose the best \u03b2 and k for each domain pair. Following Antverg and Belinkov (2022) we report results for \u03b2 = 8, k = 50 (\u2206 8,50 ), as well as oracle results (the best performance across all values, \u2206 O ). We consider the model's performance when fine-tuned on the target domain as an upper bound (UB). For all pairs, we repeat experiments using 5 different random seeds, and report mean INIT, \u2206 8,50 , \u2206 O and UB across seeds, alongside the standard error of the mean.\nSince we assume that the model is exposed to target domain data only during inference, we cannot experiment with UDA methods, as they require access to the data during training. Furthermore, experimenting with inference-time DA approaches (Ben-David et al., 2021; Volk et al., 2022) is also not possible since they assume multiple source domains for training.\n\n4 Results\nOverall, we have 52 source to target domain adaptation experiments. Table 1 aggregates results across all experiments in three different categories: experiments where we can be confident that we improved the initial performance (i.e., the mean result across seeds is greater than the standard error), damaged it (mean lower than the negative standard error) or did not significantly affect it. Detailed results per each source-target domain pair are in Appendix B. Some of these gains are quite impressive: In the aspect prediction task, we gain 18.8 and 14.4 F1 points when adapting the Restaurants source domain to the target domains Laptops and Service, respectively. In other domain pairs, the gain is marginal. On average we gain 4 points with \u2206 P O . In sentiment analysis, the airline domain (A) is quite different from the others, leading to lower INIT (initial performance) scores when it is the source domain. Adapting from A using IDANI results in a gain of up to 4.9 accuracy points. When other domains are used as source domains, we see mostly marginal gains, as the upper bound is closer to the initial performance, leaving less room for improvement in this task (UB \u2212 INIT is low).\nIn NLI, it seems harder to improve: the room for improvement is lower (3.3 F1 points on average), which may imply that domain information is not crucial for this task. Still, we do see some significant gains, e.g., an improvement of 2 F1 points when adapting from Slate to the Telephone domain.\nGenerally, across all tasks and domain pairs, PROBELESS provides better performance than LIN-EAR as \u2206 P O > \u2206 L O in 47 of the 52 experiments (Appendix B). This is in line with the insights from Antverg and Belinkov (2022), who observed that PROBELESS was better than LINEAR when used for intervening on morphological attributes.\n\n4.1 Qualitative Analysis\nTo analyze the benefits of IDANI, for each word in the dataset we record the change in results when classifying sentences containing the word (sentiment analysis) or when classifying the word itself (aspect prediction). We report the words with the greatest improvement in Table 2. When switching from the Airline domain to the DVD domain in the sentiment analysis task, those are mostly words that sound negative in an airline context, but may not imply a sentiment towards a movie (terrorist, kidnapped). In the aspect prediction task, those are mostly target domain related terms that are not likely to appear in the source domain.\n\n4.2 Default \u03b2 and k are Not Optimal\nWhile the potential for performance improvement with PROBELESS is high, the selection of \u03b2 = 8, k = 50 turns out as non optimal, as \u2206 P 8,50 is well below \u2206 P O across our experiments. This is also true for \u2206 L 8,50 compared to \u2206 L O , but to a lesser degree. Fig. 2 shows that a milder intervention-lower k value-would have been more ideal for the Airline \u2192 DVD scenario. Modifying too many neurons probably affects other encoded informationbesides domain information-damaging the task performance. Thus, we might lean towards smaller k values. However, this is not always the case: Fig. 2 also shows that for the Restaurant \u2192 Service scenario in the aspect prediction task, PROBELESS' performance reaches a saturation point around the value of k = 100 neurons. Thus there is no ideal value of k across all domain pairs. A similar phenomenon with \u03b2 is shown in Appendix C. Therefore, hyperparameters should be task-and domain-dependent, but it is unclear how to define them for each domain pair. Yet, in most real-world cases some labeled data should be available or could be manually created. In such cases, the best approach would be to grid-search over the hyperparameters on the available labeled data, and use the selected values for the (unlabeled) test data.\nAirline \u2192 DVD (Sentiment) immortal, insanely, terrorist, crossing, obsessive, buzz, kidnapped Laptops \u2192 Restaurant (Aspect) Food, soup, selection, sushi, food, atmosphere, menu, staff Restaurant \u2192 Laptops (Aspect) time, user, slot, speed, MAC, Acer, system, size, SSD, design Table 2: Words that are part of sentences for which accuracy has improved the most (sentiment analysis), and words for which F1 score has improved the most (aspect prediction), using IDANI.\n\n5 Conclusion\nIn this work, we demonstrated the ability to leverage neuron-intervention methods to improve OOD performance. We showed that in some cases, IDANI can significantly help models to adapt to new domains. IDANI performs best with oracle hyperparameters, but even with the default ones we see overall positive results. We showed that IDANI indeed focuses on domain-related information, as the gains come mostly from domain-related information, such as domain-specific aspect terms. Importantly, IDANI is applied only during inference, unlike most other DA methods.\n\nA Data Details\nWe test IDANI on three different tasks: sentiment analysis, natural language inference, and aspect prediction. Further details of the training, development, and test sets of each domain are provided in Table 3.\n\nSentiment Analysis\nWe follow a large body of prior DA work to focus on the task of binary sentiment classification. We experiment with the four legacy product review domains of Blitzer et al. (2007) : Books (B), DVDs (D), Electronic items (E) and Kitchen appliances (K). We also experiment in a more challenging setup, considering an airline review dataset (A) (Nguyen, 2015; Ziser and Reichart, 2018). This setup is more challenging because of the differences between the product and service domains.\nNatural Language Inference (Williams et al., 2018) This corpus is an extension of the SNLI dataset (Bowman et al., 2015). Each example consists of a pair of sentences, a premise and a hypothesis. The relationship between the two may be entailment, contradiction, or neutral. The corpus includes data from 10 domains: 5 are matched, with training, development and test sets, and 5 are mismatched, without a training set. Following Ben-David et al. (2021), we experiment only with the five matched domains: Fiction (F), Government (G), Slate (SL), Telephone (TL) and Travel (TR).\nSince the test sets of the MNLI dataset are not publicly available, we use the original development sets as our test sets for each target domain, while source domains use these sets for development. Following prior work (Ben-David et al., 2021; Volk et al., 2022) we explore a low-resource supervised scenario, which emphasizes the need for a DA algorithm. Thus, we randomly downsample each of the training sets by a factor of 30, resulting in 2,000-3,000 examples per set.\n\nAspect Prediction\nThe aspect prediction dataset is based on aspect-based sentiment analysis (ABSA) corpora from four domains: Device (D), Laptops (L), Restaurant (R), and Service (SE). The D data consists of reviews from Toprak et al. (2010), the SE data includes web service reviews (Hu and Liu, 2004), and the L and R domains consist of reviews from the SemEval-2014 ABSA challenge (Pontiki et al., 2014). The task is to identify aspect terms within reviews. For example, given  a sentence \"The price is reasonable, although the service is poor\", both \"price\" and \"service\" should be identified as aspect terms.\nWe follow the training and test splits defined by Gong et al. (2020) for the D and SE domains, while the splits for the L and R domains are taken from the SemEval-2014 ABSA challenge. To establish our development set, we randomly sample 10% out of the training data.\n\nB Detailed Results\nResults for all domain pairs are shown in Tables 4, 5  and 6\n\nC Performance for different \u03b2\nWhile our default hyperparameter values, \u03b2 = 8 and k = 50 improve performance in most cases, they are not optimal for all cases. Fig. 3 shows that when k = 50, the optimal \u03b2 value for the Airline \u2192 DVD case is 5, whereas for Restaurants \u2192 Service it is actually better to use a greater \u03b2. Thus, it is not possible to find one value that would be optimal for all cases.A \u2192 B A \u2192 D A \u2192 E A \u2192 K B \u2192 A B \u2192 D B \u2192 E INIT 77.4 \u00b1 1.3 75.5 \u00b1 2.2\n85.2 \u00b1 1.0 84.9 \u00b1 0.9 83.7 \u00b1 0.7 87.9 \u00b1 0.3 90.4 \u00b1 0.2 UB 88.0 \u00b1 0.5 89.2 \u00b1 0.5 92.4 \u00b1 0.4 92.4 \u00b1 0.2 88.0 \u00b1 0.1 89.2 \u00b1 0.5 92.4 \u00b1 0.4 \u2206 P 8,50 \u22124.4 \u00b1 4.8 \u22122.2 \u00b1 5.4 \u22121.2 \u00b1 2.4 \u22121.5 \u00b1 1.9 0.5 \u00b1 0.1 0.1 \u00b1 0.1 \u22120.0 \u00b1 0.0 \u2206 L 8,502.0 \u00b1 1.0 2.1 \u00b1 1.0 1.3 \u00b1 0.4 1.1 \u00b1 0.5 0.2 \u00b1 0.1 0.1 \u00b1 0.0 \u22120.0 \u00b1 0.0 \u2206 P O 3.0 \u00b1 1.3 4.9 \u00b1 1.8 2.3 \u00b1 0.8 2.3 \u00b1 1.0 0.9 \u00b1 0.2 0.3 \u00b1 0.1 0.1 \u00b1 0.0 \u2206 L O 2.9 \u00b1 1.3 4.2 \u00b1 1.8 2.3 \u00b1 0.8 2.2 \u00b1 0.9 0.3 \u00b1 0.1 0.1 \u00b1 0.0 0.0 \u00b1 0.0 B \u2192 K D \u2192 A D \u2192 B D \u2192 E D \u2192 K E \u2192 A E \u21920.1 \u00b1 0.0 0.8 \u00b1 0.2 0.1 \u00b1 0.1 \u22120.0 \u00b1 0.1 0.8 \u00b1 0.3 0.0 \u00b1 0.0 0.6 \u00b1 0.2 \u2206 L 8,50 0.1 \u00b1 0.0 0.5 \u00b1 0.1 0.1 \u00b1 0.0 0.1 \u00b1 0.0 0.2 \u00b1 0.1 0.0 \u00b1 0.0 0.1 \u00b1 0.1 \u2206 P O 0.4 \u00b1 0.1 1.4 \u00b1 0.3 0.3 \u00b1 0.1 0.3 \u00b1 0.1 1.4 \u00b1 0.5 0.2 \u00b1 0.0 1.0 \u00b1 0.3 \u2206 L O 0.2 \u00b1 0.0 0.8 \u00b1 0.1 0.2 \u00b1 0.1 0.1 \u00b1 0.0 0.5 \u00b1 0.2 0.1 \u00b1 0.0 0.3 \u00b1 0.1 E \u2192 D E \u2192 K K \u2192 A K \u2192 B K \u2192 D K \u2192 E AVG INIT 86.0.2 \u00b1 0.1 0.2 \u00b1 0.2 0.7 \u00b1 0.2 0.1 \u00b1 0.1 0.2 \u00b1 0.1 0.1 \u00b1 0.0 \u22120.2 \u00b1 1.7 \u2206 L 8,50 \u22120.1 \u00b1 0.1 \u22120.0 \u00b1 0.0 0.1 \u00b1 0.1 0.1 \u00b1 0.0 0.0 \u00b1 0.0 0.0 \u00b1 0.0 0.4 \u00b1 0.4 \u2206 P O 0.4 \u00b1 0.1 0.4 \u00b1 0.2 1.2 \u00b1 0.3 0.2 \u00b1 0.0 0.5 \u00b1 0.0 0.2 \u00b1 0.0 1.1 \u00b1 0.6 \u2206 L O 0.1 \u00b1 0.0 0.2 \u00b1 0.1 0.5 \u00b1 0.2 0.1 \u00b1 0.0 0.2 \u00b1 0.0 0.0 \u00b1 0.0 0.8 \u00b1 0.6F \u2192 G F \u2192 SL F \u2192 TL F \u2192 TR G \u2192 F G \u2192 SL G \u2192 TL INIT\n.2 \u00b1 0.8 63.7 \u00b1 0.8 67.4 \u00b1 1.3 65.6 \u00b1 0.8 59.9 \u00b1 0.8 62.1 \u00b1 0.5 64.9 \u00b1 0.9 UB 73.8 \u00b1 0.4 62.6 \u00b1 0.9 68.3 \u00b1 0.4 69.9 \u00b1 0.3 67.6 \u00b1 0.9 62.6 \u00b1 0.9 68.3 \u00b1 0.4 \u2206 P 8,50 0.5 \u00b1 0.5 0.4 \u00b1 0.4   2.2 \u00b1 0.5 2.4 \u00b1 0.6 0.0 \u00b1 0.1 \u22120.5 \u00b1 0.2 \u22120.7 \u00b1 0.4 0.3 \u00b1 0.3 \u2206 P O 14.4 \u00b1 0.9 18.8 \u00b1 0.9 0.9 \u00b1 0.2 0.3 \u00b1 0.2 0.3 \u00b1 0.2 4.0 \u00b1 0.5 \u2206 L O 5.7 \u00b1 0.9 6.8 \u00b1 0.7 0.3 \u00b1 0.1 0.2 \u00b1 0.1 0.2 \u00b1 0.1 1.5 \u00b1 0.40.1 \u00b1 0.4 \u22120.2 \u00b1 0.4 0.8 \u00b1 0.2 \u22120.2 \u00b1 0.2 0.4 \u00b1 0.3 \u2206 L 8,50 0.1 \u00b1 0.2 0.0 \u00b1 0.1 0.3 \u00b1 0.2 0.1 \u00b1 0.1 0.7 \u00b1 0.4 \u22120.2 \u00b1 0.1 0.1 \u00b1 0.1 \u2206 P O 1.2 \u00b1 0.4 0.9 \u00b1 0.3 0.9 \u00b1 0.3 0.7 \u00b1 0.2 1.8 \u00b1 0.6 0.4 \u00b1 0.1 1.2 \u00b1 0.2 \u2206 L O 0.6 \u00b1 0.2 0.6 \u00b1 0.2 0.8 \u00b1 0.3 0.5 \u00b1 0.2 1.5 \u00b1 0.5 0.2 \u00b1 0.0 0.9 \u00b1 0.2 G \u2192 TR SL \u2192 F SL \u2192 G SL \u2192 TL SL \u2192 TR TL \u2192 F TL \u2192 G INIT\u22120.0 \u00b1 0.1 0.8 \u00b1 0.4 \u22120.5 \u00b1 0.2 1.1 \u00b1 0.4 \u22120.1 \u00b1 0.1 \u22120.6 \u00b1 0.3 \u22121.1 \u00b1 0.6 \u2206 L 8,\n\nFootnotes:\n1: Our code is available at https://github.com/ technion-cs-nlp/idani.\n3: For development data we split our training set in a ratio of 80:20, where the smaller portion is used for development.\n4: For all experimented models, we define a maximum sequence length value of 256 and use a training batch size of 16.\n\nReferences:\n\n- Omer Antverg and Yonatan Belinkov. 2022. On the pitfalls of analyzing individual neurons in language models. In International Conference on Learning Representations.- Eyal Ben-David, Nadav Oved, and Roi Reichart. 2021. Pada: A prompt-based autoregressive approach for adaptation to unseen domains. arXiv preprint arXiv:2102.12206.\n\n- Shai Ben-David, John Blitzer, Koby Crammer, Fer- nando Pereira, et al. 2007. Analysis of representa- tions for domain adaptation. Advances in neural in- formation processing systems, 19:137.\n\n- John Blitzer, Mark Dredze, and Fernando Pereira. 2007. Biographies, bollywood, boom-boxes and blenders: Domain adaptation for sentiment classification. In ACL 2007, Proceedings of the 45th Annual Meet- ing of the Association for Computational Linguistics, June 23-30, 2007, Prague, Czech Republic. The As- sociation for Computational Linguistics.\n\n- Samuel R. Bowman, Gabor Angeli, Christopher Potts, and Christopher D. Manning. 2015. A large anno- tated corpus for learning natural language inference. In Proceedings of the 2015 Conference on Empiri- cal Methods in Natural Language Processing, pages 632-642, Lisbon, Portugal. Association for Compu- tational Linguistics.\n\n- Fahim Dalvi, Nadir Durrani, Hassan Sajjad, Yonatan Belinkov, Anthony Bau, and James R. Glass. 2019. What is one grain of sand in the desert? analyzing individual neurons in deep NLP models. In The Thirty-Third AAAI Conference on Artificial Intelli- gence, AAAI 2019, The Thirty-First Innovative Ap- plications of Artificial Intelligence Conference, IAAI 2019, The Ninth AAAI Symposium on Educational Advances in Artificial Intelligence, EAAI 2019, Hon- olulu, Hawaii, USA, January 27 -February 1, 2019, pages 6309-6317. AAAI Press.\n\n- Hal Daume III and Daniel Marcu. 2006. Domain adap- tation for statistical classifiers. Journal of artificial Intelligence research, 26:101-126.\n\n- Eyal Ben David, Carmel Rabinovitz, and Roi Reichart. 2020. Perl: Pivot-based domain adaptation for pre-trained deep contextualized embedding models. Transactions of the Association for Computational Linguistics, 8(0):504-521.\n\n- Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova. 2019. BERT: Pre-training of deep bidirectional transformers for language under- standing. In Proceedings of the 2019 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, Volume 1 (Long and Short Papers), pages 4171-4186, Minneapolis, Minnesota. Associ- ation for Computational Linguistics.\n\n- Nadir Durrani, Hassan Sajjad, Fahim Dalvi, and Yonatan Belinkov. 2020. Analyzing individual neu- rons in pre-trained language models. In Proceed- ings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP), pages 4865-4880, Online. Association for Computational Linguistics.\n\n- Yaroslav Ganin, Evgeniya Ustinova, Hana Ajakan, Pas- cal Germain, Hugo Larochelle, Fran\u00e7ois Laviolette, Mario March, and Victor Lempitsky. 2016. Domain- adversarial training of neural networks. Journal of Machine Learning Research, 17(59):1-35.\n\n- Chenggong Gong, Jianfei Yu, and Rui Xia. 2020. Uni- fied feature and instance based domain adaptation for aspect-based sentiment analysis. In Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing, EMNLP 2020, On- line, November 16-20, 2020, pages 7035-7045. As- sociation for Computational Linguistics.\n\n- Xiaochuang Han and Jacob Eisenstein. 2019. Unsu- pervised domain adaptation of contextualized em- beddings for sequence labeling. In Proceedings of the 2019 Conference on Empirical Methods in Nat- ural Language Processing and the 9th International Joint Conference on Natural Language Processing, EMNLP-IJCNLP 2019, Hong Kong, China, Novem- ber 3-7, 2019, pages 4237-4247. Association for Computational Linguistics.\n\n- Minqing Hu and Bing Liu. 2004. Mining and summa- rizing customer reviews. In Proceedings of the Tenth ACM SIGKDD International Conference on Knowl- edge Discovery and Data Mining, Seattle, Wash- ington, USA, August 22-25, 2004, pages 168-177. ACM.\n\n- Quang Nguyen. 2015. The airline review dataset. Maria Pontiki, Dimitris Galanis, John Pavlopoulos, Harris Papageorgiou, Ion Androutsopoulos, and Suresh Manandhar. 2014. Semeval-2014 task 4: As- pect based sentiment analysis. In Proceedings of the 8th International Workshop on Semantic Evaluation, SemEval@COLING 2014, Dublin, Ireland, August 23-24, 2014, pages 27-35. The Association for Com- puter Linguistics.\n\n- Roi Reichart and Ari Rappoport. 2007. Self-training for enhancement and domain adaptation of statisti- cal parsers trained on small datasets. In Proceed- ings of the 45th Annual Meeting of the Association of Computational Linguistics, pages 616-623, Prague, Czech Republic. Association for Computational Lin- guistics.\n\n- Hassan Sajjad, Nadir Durrani, and Fahim Dalvi. 2021. Neuron-level interpretation of deep nlp models: A survey. ArXiv, abs/2108.13138.\n\n- Tobias Schnabel and Hinrich Sch\u00fctze. 2014. Flors: Fast and simple domain adaptation for part-of- speech tagging. Transactions of the Association for Computational Linguistics, 2(0):15-26.\n\n- Cigdem Toprak, Niklas Jakob, and Iryna Gurevych. 2010. Sentence and expression level annotation of opinions in user-generated discourse. In ACL 2010, Proceedings of the 48th Annual Meeting of the As- sociation for Computational Linguistics, July 11-16, 2010, Uppsala, Sweden, pages 575-584. The Asso- ciation for Computer Linguistics.\n\n- Lucas Torroba Hennigen, Adina Williams, and Ryan Cotterell. 2020. Intrinsic probing through dimen- sion selection. In Proceedings of the 2020 Confer- ence on Empirical Methods in Natural Language Processing (EMNLP), pages 197-216, Online. As- sociation for Computational Linguistics.\n\n- Tomer Volk, Eyal Ben-David, Ohad Amosy, Gal Chechik, and Roi Reichart. 2022. Example-based hypernetworks for out-of-distribution generalization. arXiv preprint arXiv:2203.14276.\n\n- Adina Williams, Nikita Nangia, and Samuel R Bow- man. 2018. A broad-coverage challenge corpus for sentence understanding through inference. In 2018 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, NAACL HLT 2018, pages 1112-1122.\n\n- Yftah Ziser and Roi Reichart. 2018. Pivot based lan- guage modeling for improved neural domain adapta- tion. In Proceedings of the 2018 Conference of the North American Chapter of the Association for Com- putational Linguistics: Human Language Technolo- gies, Volume 1 (Long Papers), pages 1241-1251, New Orleans, Louisiana. Association for Computa- tional Linguistics.\n\n- Hui Zou and Trevor Hastie. 2005. Regularization and variable selection via the elastic net. Journal of the royal statistical society: series B (statistical method- ology), 67(2):301-320.\n\n", "annotations": {"ReferenceToTable": [{"begin": 6754, "end": 6755, "target": "#tab_0", "idx": 0}, {"begin": 6790, "end": 6791, "idx": 1}, {"begin": 10704, "end": 10705, "target": "#tab_0", "idx": 2}, {"begin": 15681, "end": 15682, "target": "#tab_2", "idx": 3}, {"begin": 18190, "end": 18201, "target": "#tab_9", "idx": 4}], "ReferenceToFootnote": [{"begin": 8588, "end": 8589, "target": "#foot_1", "idx": 0}, {"begin": 8964, "end": 8965, "target": "#foot_2", "idx": 1}], "SectionMain": [{"begin": 949, "end": 20665, "idx": 0}], "SectionReference": [{"begin": 20990, "end": 27847, "idx": 0}], "SectionHeader": [{"begin": 0, "end": 949, "idx": 0}], "Div": [{"begin": 82, "end": 941, "idx": 0}, {"begin": 952, "end": 4648, "idx": 1}, {"begin": 4650, "end": 6506, "idx": 2}, {"begin": 6508, "end": 7266, "idx": 3}, {"begin": 7268, "end": 7938, "idx": 4}, {"begin": 7940, "end": 8705, "idx": 5}, {"begin": 8707, "end": 10618, "idx": 6}, {"begin": 10620, "end": 12451, "idx": 7}, {"begin": 12453, "end": 13112, "idx": 8}, {"begin": 13114, "end": 14882, "idx": 9}, {"begin": 14884, "end": 15456, "idx": 10}, {"begin": 15458, "end": 15683, "idx": 11}, {"begin": 15685, "end": 17238, "idx": 12}, {"begin": 17240, "end": 18120, "idx": 13}, {"begin": 18122, "end": 18201, "idx": 14}, {"begin": 18203, "end": 20665, "idx": 15}], "Head": [{"begin": 952, "end": 966, "n": "1", "idx": 0}, {"begin": 4650, "end": 4658, "n": "2", "idx": 1}, {"begin": 6508, "end": 6527, "n": "2.1", "idx": 2}, {"begin": 7268, "end": 7277, "idx": 3}, {"begin": 7940, "end": 7952, "n": "3.1", "idx": 4}, {"begin": 8707, "end": 8722, "n": "3.2", "idx": 5}, {"begin": 10620, "end": 10629, "n": "4", "idx": 6}, {"begin": 12453, "end": 12477, "n": "4.1", "idx": 7}, {"begin": 13114, "end": 13149, "n": "4.2", "idx": 8}, {"begin": 14884, "end": 14896, "n": "5", "idx": 9}, {"begin": 15458, "end": 15472, "idx": 10}, {"begin": 15685, "end": 15703, "idx": 11}, {"begin": 17240, "end": 17257, "idx": 12}, {"begin": 18122, "end": 18140, "idx": 13}, {"begin": 18203, "end": 18232, "idx": 14}], "Paragraph": [{"begin": 82, "end": 941, "idx": 0}, {"begin": 967, "end": 1414, "idx": 1}, {"begin": 1415, "end": 2392, "idx": 2}, {"begin": 2393, "end": 2598, "idx": 3}, {"begin": 2599, "end": 3732, "idx": 4}, {"begin": 3733, "end": 4265, "idx": 5}, {"begin": 4266, "end": 4648, "idx": 6}, {"begin": 4659, "end": 5128, "idx": 7}, {"begin": 5129, "end": 5293, "idx": 8}, {"begin": 5294, "end": 5515, "idx": 9}, {"begin": 5516, "end": 5843, "idx": 10}, {"begin": 5888, "end": 6196, "idx": 11}, {"begin": 6197, "end": 6468, "idx": 12}, {"begin": 6469, "end": 6506, "idx": 13}, {"begin": 6528, "end": 6610, "idx": 14}, {"begin": 6611, "end": 6822, "idx": 15}, {"begin": 6823, "end": 7266, "idx": 16}, {"begin": 7278, "end": 7605, "idx": 17}, {"begin": 7631, "end": 7924, "idx": 18}, {"begin": 7925, "end": 7938, "idx": 19}, {"begin": 7953, "end": 8705, "idx": 20}, {"begin": 8723, "end": 10258, "idx": 21}, {"begin": 10259, "end": 10618, "idx": 22}, {"begin": 10630, "end": 11826, "idx": 23}, {"begin": 11827, "end": 12121, "idx": 24}, {"begin": 12122, "end": 12451, "idx": 25}, {"begin": 12478, "end": 13112, "idx": 26}, {"begin": 13150, "end": 14416, "idx": 27}, {"begin": 14417, "end": 14882, "idx": 28}, {"begin": 14897, "end": 15456, "idx": 29}, {"begin": 15473, "end": 15683, "idx": 30}, {"begin": 15704, "end": 16186, "idx": 31}, {"begin": 16187, "end": 16764, "idx": 32}, {"begin": 16765, "end": 17238, "idx": 33}, {"begin": 17258, "end": 17853, "idx": 34}, {"begin": 17854, "end": 18120, "idx": 35}, {"begin": 18141, "end": 18201, "idx": 36}, {"begin": 18233, "end": 18601, "idx": 37}, {"begin": 18670, "end": 18897, "idx": 38}, {"begin": 19864, "end": 20245, "idx": 39}], "ReferenceToBib": [{"begin": 1571, "end": 1598, "target": "#b6", "idx": 0}, {"begin": 1599, "end": 1628, "target": "#b15", "idx": 1}, {"begin": 1629, "end": 1652, "target": "#b2", "idx": 2}, {"begin": 1653, "end": 1680, "target": "#b17", "idx": 3}, {"begin": 2063, "end": 2085, "target": "#b3", "idx": 4}, {"begin": 2086, "end": 2105, "target": "#b10", "idx": 5}, {"begin": 2106, "end": 2131, "target": "#b22", "idx": 6}, {"begin": 2132, "end": 2157, "target": "#b12", "idx": 7}, {"begin": 2158, "end": 2177, "target": "#b7", "idx": 8}, {"begin": 2189, "end": 2212, "target": "#b1", "idx": 9}, {"begin": 2217, "end": 2235, "target": "#b20", "idx": 10}, {"begin": 3149, "end": 3169, "target": "#b5", "idx": 11}, {"begin": 3170, "end": 3191, "target": "#b9", "idx": 12}, {"begin": 3192, "end": 3222, "target": "#b19", "idx": 13}, {"begin": 3223, "end": 3250, "target": "#b0", "idx": 14}, {"begin": 3251, "end": 3271, "target": "#b16", "idx": 15}, {"begin": 5542, "end": 5570, "target": "#b0", "idx": 16}, {"begin": 6118, "end": 6146, "target": "#b0", "idx": 17}, {"begin": 6830, "end": 6850, "target": "#b5", "idx": 18}, {"begin": 7013, "end": 7035, "target": "#b23", "idx": 19}, {"begin": 7748, "end": 7775, "target": "#b0", "idx": 20}, {"begin": 7892, "end": 7923, "target": "#b19", "idx": 21}, {"begin": 8067, "end": 8089, "target": "#b3", "idx": 22}, {"begin": 8194, "end": 8215, "target": "#b4", "idx": 23}, {"begin": 8306, "end": 8324, "target": "#b13", "idx": 24}, {"begin": 8325, "end": 8345, "target": "#b18", "idx": 25}, {"begin": 8346, "end": 8367, "target": "#b14", "idx": 26}, {"begin": 8825, "end": 8846, "target": "#b8", "idx": 27}, {"begin": 10498, "end": 10522, "target": "#b1", "idx": 28}, {"begin": 10523, "end": 10541, "target": "#b20", "idx": 29}, {"begin": 12317, "end": 12344, "target": "#b0", "idx": 30}, {"begin": 15862, "end": 15883, "target": "#b3", "idx": 31}, {"begin": 16046, "end": 16060, "target": "#b14", "idx": 32}, {"begin": 16061, "end": 16086, "target": "#b22", "idx": 33}, {"begin": 16214, "end": 16237, "target": "#b21", "idx": 34}, {"begin": 16286, "end": 16307, "target": "#b4", "idx": 35}, {"begin": 16617, "end": 16640, "target": "#b1", "idx": 36}, {"begin": 16985, "end": 17009, "target": "#b1", "idx": 37}, {"begin": 17010, "end": 17028, "target": "#b20", "idx": 38}, {"begin": 17461, "end": 17481, "target": "#b18", "idx": 39}, {"begin": 17524, "end": 17542, "target": "#b13", "idx": 40}, {"begin": 17624, "end": 17646, "target": "#b14", "idx": 41}, {"begin": 17904, "end": 17922, "target": "#b11", "idx": 42}], "ReferenceString": [{"begin": 21005, "end": 21170, "id": "b0", "idx": 0}, {"begin": 21172, "end": 21335, "id": "b1", "idx": 1}, {"begin": 21339, "end": 21529, "id": "b2", "idx": 2}, {"begin": 21533, "end": 21879, "id": "b3", "idx": 3}, {"begin": 21883, "end": 22206, "id": "b4", "idx": 4}, {"begin": 22210, "end": 22741, "id": "b5", "idx": 5}, {"begin": 22745, "end": 22888, "id": "b6", "idx": 6}, {"begin": 22892, "end": 23117, "id": "b7", "idx": 7}, {"begin": 23121, "end": 23543, "id": "b8", "idx": 8}, {"begin": 23547, "end": 23849, "id": "b9", "idx": 9}, {"begin": 23853, "end": 24097, "id": "b10", "idx": 10}, {"begin": 24101, "end": 24436, "id": "b11", "idx": 11}, {"begin": 24440, "end": 24855, "id": "b12", "idx": 12}, {"begin": 24859, "end": 25106, "id": "b13", "idx": 13}, {"begin": 25110, "end": 25522, "id": "b14", "idx": 14}, {"begin": 25526, "end": 25844, "id": "b15", "idx": 15}, {"begin": 25848, "end": 25981, "id": "b16", "idx": 16}, {"begin": 25985, "end": 26172, "id": "b17", "idx": 17}, {"begin": 26176, "end": 26510, "id": "b18", "idx": 18}, {"begin": 26514, "end": 26797, "id": "b19", "idx": 19}, {"begin": 26801, "end": 26978, "id": "b20", "idx": 20}, {"begin": 26982, "end": 27282, "id": "b21", "idx": 21}, {"begin": 27286, "end": 27655, "id": "b22", "idx": 22}, {"begin": 27659, "end": 27845, "id": "b23", "idx": 23}], "Sentence": [{"begin": 82, "end": 180, "idx": 0}, {"begin": 181, "end": 312, "idx": 1}, {"begin": 313, "end": 572, "idx": 2}, {"begin": 573, "end": 626, "idx": 3}, {"begin": 627, "end": 768, "idx": 4}, {"begin": 769, "end": 941, "idx": 5}, {"begin": 967, "end": 1123, "idx": 6}, {"begin": 1124, "end": 1283, "idx": 7}, {"begin": 1284, "end": 1414, "idx": 8}, {"begin": 1415, "end": 1681, "idx": 9}, {"begin": 1682, "end": 1900, "idx": 10}, {"begin": 1901, "end": 2178, "idx": 11}, {"begin": 2179, "end": 2392, "idx": 12}, {"begin": 2393, "end": 2598, "idx": 13}, {"begin": 2599, "end": 2760, "idx": 14}, {"begin": 2761, "end": 2970, "idx": 15}, {"begin": 2971, "end": 3272, "idx": 16}, {"begin": 3273, "end": 3381, "idx": 17}, {"begin": 3382, "end": 3508, "idx": 18}, {"begin": 3509, "end": 3636, "idx": 19}, {"begin": 3637, "end": 3732, "idx": 20}, {"begin": 3733, "end": 3864, "idx": 21}, {"begin": 3865, "end": 3997, "idx": 22}, {"begin": 3998, "end": 4069, "idx": 23}, {"begin": 4070, "end": 4265, "idx": 24}, {"begin": 4266, "end": 4549, "idx": 25}, {"begin": 4550, "end": 4648, "idx": 26}, {"begin": 4659, "end": 4878, "idx": 27}, {"begin": 4879, "end": 4968, "idx": 28}, {"begin": 4969, "end": 5078, "idx": 29}, {"begin": 5079, "end": 5128, "idx": 30}, {"begin": 5129, "end": 5210, "idx": 31}, {"begin": 5211, "end": 5293, "idx": 32}, {"begin": 5294, "end": 5515, "idx": 33}, {"begin": 5516, "end": 5574, "idx": 34}, {"begin": 5575, "end": 5662, "idx": 35}, {"begin": 5663, "end": 5843, "idx": 36}, {"begin": 5888, "end": 6147, "idx": 37}, {"begin": 6148, "end": 6196, "idx": 38}, {"begin": 6197, "end": 6300, "idx": 39}, {"begin": 6301, "end": 6387, "idx": 40}, {"begin": 6388, "end": 6468, "idx": 41}, {"begin": 6469, "end": 6506, "idx": 42}, {"begin": 6528, "end": 6610, "idx": 43}, {"begin": 6611, "end": 6689, "idx": 44}, {"begin": 6690, "end": 6822, "idx": 45}, {"begin": 6823, "end": 7036, "idx": 46}, {"begin": 7037, "end": 7149, "idx": 47}, {"begin": 7150, "end": 7266, "idx": 48}, {"begin": 7278, "end": 7516, "idx": 49}, {"begin": 7517, "end": 7605, "idx": 50}, {"begin": 7631, "end": 7746, "idx": 51}, {"begin": 7747, "end": 7924, "idx": 52}, {"begin": 7925, "end": 7938, "idx": 53}, {"begin": 7953, "end": 8369, "idx": 54}, {"begin": 8370, "end": 8471, "idx": 55}, {"begin": 8472, "end": 8665, "idx": 56}, {"begin": 8666, "end": 8705, "idx": 57}, {"begin": 8723, "end": 8965, "idx": 58}, {"begin": 8966, "end": 9133, "idx": 59}, {"begin": 9134, "end": 9419, "idx": 60}, {"begin": 9420, "end": 9479, "idx": 61}, {"begin": 9480, "end": 9714, "idx": 62}, {"begin": 9715, "end": 9835, "idx": 63}, {"begin": 9836, "end": 9994, "idx": 64}, {"begin": 9995, "end": 10091, "idx": 65}, {"begin": 10092, "end": 10258, "idx": 66}, {"begin": 10259, "end": 10436, "idx": 67}, {"begin": 10437, "end": 10618, "idx": 68}, {"begin": 10630, "end": 10697, "idx": 69}, {"begin": 10698, "end": 11023, "idx": 70}, {"begin": 11024, "end": 11300, "idx": 71}, {"begin": 11301, "end": 11345, "idx": 72}, {"begin": 11346, "end": 11386, "idx": 73}, {"begin": 11387, "end": 11549, "idx": 74}, {"begin": 11550, "end": 11625, "idx": 75}, {"begin": 11626, "end": 11826, "idx": 76}, {"begin": 11827, "end": 11901, "idx": 77}, {"begin": 11902, "end": 11994, "idx": 78}, {"begin": 11995, "end": 12121, "idx": 79}, {"begin": 12122, "end": 12277, "idx": 80}, {"begin": 12278, "end": 12451, "idx": 81}, {"begin": 12478, "end": 12697, "idx": 82}, {"begin": 12698, "end": 12759, "idx": 83}, {"begin": 12760, "end": 12984, "idx": 84}, {"begin": 12985, "end": 13112, "idx": 85}, {"begin": 13150, "end": 13334, "idx": 86}, {"begin": 13335, "end": 13409, "idx": 87}, {"begin": 13410, "end": 13522, "idx": 88}, {"begin": 13523, "end": 13649, "idx": 89}, {"begin": 13650, "end": 13695, "idx": 90}, {"begin": 13696, "end": 13912, "idx": 91}, {"begin": 13913, "end": 13971, "idx": 92}, {"begin": 13972, "end": 14146, "idx": 93}, {"begin": 14147, "end": 14244, "idx": 94}, {"begin": 14245, "end": 14416, "idx": 95}, {"begin": 14417, "end": 14882, "idx": 96}, {"begin": 14897, "end": 15006, "idx": 97}, {"begin": 15007, "end": 15097, "idx": 98}, {"begin": 15098, "end": 15210, "idx": 99}, {"begin": 15211, "end": 15373, "idx": 100}, {"begin": 15374, "end": 15456, "idx": 101}, {"begin": 15473, "end": 15583, "idx": 102}, {"begin": 15584, "end": 15683, "idx": 103}, {"begin": 15704, "end": 15800, "idx": 104}, {"begin": 15801, "end": 15955, "idx": 105}, {"begin": 15956, "end": 16087, "idx": 106}, {"begin": 16088, "end": 16186, "idx": 107}, {"begin": 16187, "end": 16308, "idx": 108}, {"begin": 16309, "end": 16382, "idx": 109}, {"begin": 16383, "end": 16461, "idx": 110}, {"begin": 16462, "end": 16606, "idx": 111}, {"begin": 16607, "end": 16764, "idx": 112}, {"begin": 16765, "end": 16963, "idx": 113}, {"begin": 16964, "end": 17121, "idx": 114}, {"begin": 17122, "end": 17238, "idx": 115}, {"begin": 17258, "end": 17424, "idx": 116}, {"begin": 17425, "end": 17647, "idx": 117}, {"begin": 17648, "end": 17700, "idx": 118}, {"begin": 17701, "end": 17853, "idx": 119}, {"begin": 17854, "end": 18037, "idx": 120}, {"begin": 18038, "end": 18120, "idx": 121}, {"begin": 18141, "end": 18201, "idx": 122}, {"begin": 18233, "end": 18361, "idx": 123}, {"begin": 18362, "end": 18521, "idx": 124}, {"begin": 18522, "end": 18601, "idx": 125}, {"begin": 18670, "end": 18897, "idx": 126}, {"begin": 19864, "end": 20245, "idx": 127}], "ReferenceToFigure": [{"begin": 3740, "end": 3741, "idx": 0}, {"begin": 6504, "end": 6505, "idx": 1}, {"begin": 13415, "end": 13416, "target": "#fig_0", "idx": 2}, {"begin": 13739, "end": 13740, "target": "#fig_0", "idx": 3}, {"begin": 18367, "end": 18368, "target": "#fig_2", "idx": 4}], "Abstract": [{"begin": 72, "end": 941, "idx": 0}], "SectionFootnote": [{"begin": 20667, "end": 20988, "idx": 0}], "Footnote": [{"begin": 20678, "end": 20748, "id": "foot_0", "n": "1", "idx": 0}, {"begin": 20749, "end": 20870, "id": "foot_1", "n": "3", "idx": 1}, {"begin": 20871, "end": 20988, "id": "foot_2", "n": "4", "idx": 2}]}}